package randoop.test;

import java.util.function.Predicate;
import java.util.regex.Pattern;
import randoop.sequence.ExecutableSequence;

/**
 * Returns true if the test uses a variable (or method) defined in a class that matches the given
 * regular expression.
 */
@org.checkerframework.framework.qual.AnnotatedFor("org.checkerframework.checker.resourceleak.ResourceLeakChecker")
public class IncludeTestPredicate implements Predicate<ExecutableSequence> {

    /**
     * Classes whose uses to require. Predicate returns true if one of these is used.
     */
    private @org.checkerframework.checker.calledmethods.qual.CalledMethods({}) Pattern testClasses;

    public IncludeTestPredicate(Pattern testClasses) {
        this.testClasses = testClasses;
    }

    /**
     * {@inheritDoc}
     *
     * @return true if the sequence uses a member of a class that matches the regular expression,
     *     false otherwise
     */
    public  @org.checkerframework.checker.calledmethods.qual.CalledMethods({}) boolean test(@org.checkerframework.checker.calledmethods.qual.CalledMethods({}) IncludeTestPredicate this, @org.checkerframework.checker.calledmethods.qual.CalledMethods({}) ExecutableSequence eseq) {
        return eseq.sequence.hasUseOfMatchingClass(testClasses);
    }
}
